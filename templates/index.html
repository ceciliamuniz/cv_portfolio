{% extends "base.html" %}

{% block title %}Computer Vision Portfolio - Home{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero-section">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6">
                <h1 class="display-4 fw-bold mb-4">
                    <i class="fas fa-eye me-3"></i>Computer Vision Portfolio
                </h1>
                <p class="lead mb-4">
                    Complete computer vision assignments including real-world distance measurement, 
                    template matching, regional blurring, and Fourier transform-based image recovery.
                </p>
                <div class="d-flex gap-3 flex-wrap">
                    <a href="/module1" class="btn btn-light btn-lg">
                        <i class="fas fa-ruler-combined me-2"></i>Module 1: Distance Measurement
                    </a>
                    <a href="/module2-part1" class="btn btn-outline-light btn-lg">
                        <i class="fas fa-search me-2"></i>Module 2 Part 1
                    </a>
                    <a href="/module2-part2" class="btn btn-outline-light btn-lg">
                        <i class="fas fa-magic me-2"></i>Module 2 Part 2
                    </a>
                    <a href="/module3" class="btn btn-warning btn-lg text-dark">
                        <i class="fas fa-project-diagram me-2"></i>Module 3
                    </a>
                </div>
            </div>
            <div class="col-lg-6 text-center">
                <div class="row g-3">
                    <div class="col-4">
                        <div class="bg-white bg-opacity-25 p-3 rounded">
                            <i class="fas fa-ruler-combined fa-2x mb-2"></i>
                            <h6>Distance Measurement</h6>
                        </div>
                    </div>
                    <div class="col-4">
                        <div class="bg-white bg-opacity-25 p-3 rounded">
                            <i class="fas fa-search fa-2x mb-2"></i>
                            <h6>Object Detection</h6>
                        </div>
                    </div>
                    <div class="col-4">
                        <div class="bg-white bg-opacity-25 p-3 rounded">
                            <i class="fas fa-blur fa-2x mb-2"></i>
                            <h6>Regional Blurring</h6>
                        </div>
                    </div>
                    <div class="col-4">
                        <div class="bg-white bg-opacity-25 p-3 rounded">
                            <i class="fas fa-wave-square fa-2x mb-2"></i>
                            <h6>FFT Analysis</h6>
                        </div>
                    </div>
                    <div class="col-4">
                        <div class="bg-white bg-opacity-25 p-3 rounded">
                            <i class="fas fa-undo fa-2x mb-2"></i>
                            <h6>Image Recovery</h6>
                        </div>
                    </div>
                    <div class="col-4">
                        <div class="bg-white bg-opacity-25 p-3 rounded">
                            <i class="fas fa-camera fa-2x mb-2"></i>
                            <h6>Camera Calibration</h6>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Modules Section -->
<section class="py-5">
    <div class="container">
        <div class="row text-center mb-5">
            <div class="col">
                <h2 class="fw-bold mb-3">Computer Vision Modules</h2>
                <p class="lead text-muted">Complete assignments covering distance measurement, template matching, and Fourier transforms</p>
            </div>
        </div>
        
        <div class="row g-4">
            <!-- Module 1 -->
            <div class="col-lg-4">
                <div class="card module-card h-100 shadow">
                    <div class="card-body p-4">
                        <div class="d-flex align-items-center mb-3">
                            <div class="bg-success bg-opacity-10 p-3 rounded-circle me-3">
                                <i class="fas fa-ruler-combined fa-2x text-success"></i>
                            </div>
                            <div>
                                <h4 class="card-title mb-1">Module 1</h4>
                                <p class="text-muted mb-0">Distance Measurement</p>
                            </div>
                        </div>
                        
                        <p class="card-text mb-4">
                            Real-world distance measurement using perspective projection and camera calibration.
                            Click two points on an image to calculate actual distances in millimeters.
                        </p>
                        
                        <div class="row g-3 mb-4">
                            <div class="col-6">
                                <div class="text-center p-3 bg-light rounded">
                                    <i class="fas fa-camera text-primary mb-2"></i>
                                    <small class="d-block fw-bold">Camera Matrix</small>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="text-center p-3 bg-light rounded">
                                    <i class="fas fa-calculator text-warning mb-2"></i>
                                    <small class="d-block fw-bold">Perspective Projection</small>
                                </div>
                            </div>
                        </div>
                        
                        <a href="/module1" class="btn btn-success w-100">
                            <i class="fas fa-ruler-combined me-2"></i>Try Distance Measurement
                        </a>
                    </div>
                </div>
            </div>
            <!-- Module 2 Part 1 -->
            <div class="col-lg-4">
                <div class="card module-card h-100 shadow">
                    <div class="card-body p-4">
                        <div class="d-flex align-items-center mb-3">
                            <div class="bg-primary bg-opacity-10 p-3 rounded-circle me-3">
                                <i class="fas fa-search fa-2x text-primary"></i>
                            </div>
                            <div>
                                <h4 class="card-title mb-1">Module 2 Part 1</h4>
                                <p class="text-muted mb-0">Template Matching & Blurring</p>
                            </div>
                        </div>
                        
                        <p class="card-text mb-4">
                            Demonstrate object detection using template matching through normalized cross-correlation. 
                            Apply Gaussian blur to detected regions combining correlation and convolution operations.
                        </p>
                        
                        <div class="row g-3 mb-4">
                            <div class="col-6">
                                <div class="text-center p-3 bg-light rounded">
                                    <i class="fas fa-database text-success mb-2"></i>
                                    <small class="d-block fw-bold">10+ Templates</small>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="text-center p-3 bg-light rounded">
                                    <i class="fas fa-percentage text-info mb-2"></i>
                                    <small class="d-block fw-bold">Confidence Scores</small>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <h6 class="fw-bold">Features:</h6>
                            <ul class="list-unstyled">
                                <li><i class="fas fa-check text-success me-2"></i>Normalized Cross-Correlation</li>
                                <li><i class="fas fa-check text-success me-2"></i>Bounding Box Detection</li>
                                <li><i class="fas fa-check text-success me-2"></i>Configurable Blur Strength</li>
                                <li><i class="fas fa-check text-success me-2"></i>Real-time Processing</li>
                            </ul>
                        </div>
                        
                        <a href="/module2-part1" class="btn btn-primary w-100">
                            <i class="fas fa-play me-2"></i>Try Template Matching
                        </a>
                    </div>
                </div>
            </div>
            
            <!-- Module 2 Part 2 -->
            <div class="col-lg-4">
                <div class="card module-card h-100 shadow">
                    <div class="card-body p-4">
                        <div class="d-flex align-items-center mb-3">
                            <div class="bg-info bg-opacity-10 p-3 rounded-circle me-3">
                                <i class="fas fa-magic fa-2x text-info"></i>
                            </div>
                            <div>
                                <h4 class="card-title mb-1">Module 2 Part 2</h4>
                                <p class="text-muted mb-0">Fourier Transform & Recovery</p>
                            </div>
                        </div>
                        
                        <p class="card-text mb-4">
                            Apply Gaussian blur to images and recover the original using FFT-based deconvolution. 
                            Demonstrates the mathematical relationship between convolution and frequency domains.
                        </p>
                        
                        <div class="row g-3 mb-4">
                            <div class="col-6">
                                <div class="text-center p-3 bg-light rounded">
                                    <i class="fas fa-wave-square text-warning mb-2"></i>
                                    <small class="d-block fw-bold">FFT Analysis</small>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="text-center p-3 bg-light rounded">
                                    <i class="fas fa-chart-line text-danger mb-2"></i>
                                    <small class="d-block fw-bold">PSNR Metrics</small>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <h6 class="fw-bold">Features:</h6>
                            <ul class="list-unstyled">
                                <li><i class="fas fa-check text-success me-2"></i>Gaussian Blur Application</li>
                                <li><i class="fas fa-check text-success me-2"></i>FFT-based Deconvolution</li>
                                <li><i class="fas fa-check text-success me-2"></i>Wiener Filter Recovery</li>
                                <li><i class="fas fa-check text-success me-2"></i>Quality Assessment (PSNR)</li>
                            </ul>
                        </div>
                        
                        <a href="/module2-part2" class="btn btn-info w-100">
                            <i class="fas fa-play me-2"></i>Try Blur Recovery
                        </a>
                    </div>
                </div>
            </div>
            <!-- Module 3 -->
            <div class="col-lg-4">
                <div class="card module-card h-100 shadow">
                    <div class="card-body p-4">
                        <div class="d-flex align-items-center mb-3">
                            <div class="bg-warning bg-opacity-10 p-3 rounded-circle me-3">
                                <i class="fas fa-project-diagram fa-2x text-warning"></i>
                            </div>
                            <div>
                                <h4 class="card-title mb-1">Module 3</h4>
                                <p class="text-muted mb-0">Advanced Image Analysis</p>
                            </div>
                        </div>
                        <p class="card-text mb-4">
                            Gradients, Laplacian of Gaussian, edges, corners, and object boundaries, plus ArUco-based segmentation and SAM2 comparison.
                        </p>
                        <div class="row g-3 mb-4">
                            <div class="col-6">
                                <div class="text-center p-3 bg-light rounded">
                                    <i class="fas fa-vector-square text-primary mb-2"></i>
                                    <small class="d-block fw-bold">Edges & Corners</small>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="text-center p-3 bg-light rounded">
                                    <i class="fas fa-qrcode text-success mb-2"></i>
                                    <small class="d-block fw-bold">ArUco Segmentation</small>
                                </div>
                            </div>
                        </div>
                        <a href="/module3" class="btn btn-warning w-100 text-dark">
                            <i class="fas fa-arrow-right me-2"></i>Explore Module 3
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Technical Overview -->
<section class="py-5 bg-light">
    <div class="container">
        <div class="row text-center mb-5">
            <div class="col">
                <h2 class="fw-bold mb-3">Technical Implementation</h2>
                <p class="lead text-muted">Built with industry-standard computer vision libraries</p>
            </div>
        </div>
        
        <div class="row g-4">
            <div class="col-md-3 text-center">
                <div class="bg-white p-4 rounded shadow-sm h-100">
                    <i class="fab fa-python fa-3x text-primary mb-3"></i>
                    <h5>OpenCV & NumPy</h5>
                    <p class="text-muted small">Computer vision operations and numerical computations</p>
                </div>
            </div>
            <div class="col-md-3 text-center">
                <div class="bg-white p-4 rounded shadow-sm h-100">
                    <i class="fas fa-chart-line fa-3x text-success mb-3"></i>
                    <h5>Matplotlib</h5>
                    <p class="text-muted small">Visualization and result analysis</p>
                </div>
            </div>
            <div class="col-md-3 text-center">
                <div class="bg-white p-4 rounded shadow-sm h-100">
                    <i class="fas fa-server fa-3x text-warning mb-3"></i>
                    <h5>Flask Framework</h5>
                    <p class="text-muted small">Web application backend and API endpoints</p>
                </div>
            </div>
            <div class="col-md-3 text-center">
                <div class="bg-white p-4 rounded shadow-sm h-100">
                    <i class="fab fa-bootstrap fa-3x text-info mb-3"></i>
                    <h5>Bootstrap UI</h5>
                    <p class="text-muted small">Responsive design and interactive components</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Quick Stats -->
<section class="py-5">
    <div class="container">
        <div class="row text-center">
            <div class="col-md-3">
                <div class="display-6 fw-bold text-primary" id="template-count">10+</div>
                <p class="text-muted">Template Objects</p>
            </div>
            <div class="col-md-3">
                <div class="display-6 fw-bold text-success">3</div>
                <p class="text-muted">Matching Methods</p>
            </div>
            <div class="col-md-3">
                <div class="display-6 fw-bold text-warning">FFT</div>
                <p class="text-muted">Frequency Analysis</p>
            </div>
            <div class="col-md-3">
                <div class="display-6 fw-bold text-info">30+</div>
                <p class="text-muted">dB PSNR Recovery</p>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block scripts %}
<script>
// Load template count dynamically
fetch('/api/templates')
    .then(response => response.json())
    .then(data => {
        if (data.templates) {
            document.getElementById('template-count').textContent = data.templates.length;
        }
    })
    .catch(error => console.log('Templates not loaded yet'));
</script>
{% endblock %}